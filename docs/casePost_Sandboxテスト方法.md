# Case Post コンポーネントの Sandbox テスト方法（3パターン）

既存のケースレコードページの構成を変えずに、Sandbox 内だけで casePost をテストする方法です。

---

## 方法1: テスト用レコードページを新規作成し、割り当てを限定する（推奨）

**概要**  
既存のケースページはそのままに、**テスト専用のケースレコードページ**を1つ作り、そこにだけ casePost を載せます。そのページは「特定のアプリ」や「特定のプロファイル」にだけ割り当てます。

**手順**

1. **設定** → **オブジェクトマネージャ** → **ケース** → **ライトニングレコードページ**
2. 既存のケースレコードページ（本番で使っているもの）の **複製** を作成する  
   - 対象ページの **▼** → **複製**  
   - 名前例: `Case Record Page - Postテスト`
3. 複製したページを **編集** し、**Case Post** を配置して **保存**・**アクティブ化**
4. **割り当て** で、この新しいページだけを使う対象を限定する  
   - **設定** → **オブジェクトマネージャ** → **ケース** → **ライトニングレコードページ** → 作成したページを選択 → **割り当て**
   - 例: 「アプリ: サンドボックステスト用アプリ」だけに割り当てる  
   - または「プロファイル: テスト用プロファイル」だけに割り当てる
5. 通常利用者は従来どおり既存ページ、テスト時だけ該当アプリ／プロファイルでケースを開き、casePost を確認する

**メリット**  
- 既存のケースページは一切変更しない  
- 本番と同じオブジェクト・データで、実運用に近い形でテストできる  

---

## 方法2: テスト用アプリを作り、そのアプリだけ別ページを割り当てる

**概要**  
Sandbox で「Case Post テスト用」のような **テスト専用アプリ** を1つ作り、そのアプリのケースオブジェクトには「casePost を載せたレコードページ」を割り当てます。既存アプリの割り当ては変更しません。

**手順**

1. **設定** → **アプリマネージャ** → **新規アプリ** → **ライトニングアプリ**  
   - 名前例: `ケース Post テスト`
2. ナビゲーションで **ケース** を追加し、必要なタブを設定してアプリを保存
3. **設定** → **オブジェクトマネージャ** → **ケース** → **ライトニングレコードページ** で、casePost を載せた **テスト用レコードページ** を用意する  
   - 方法1と同様に、既存ページの複製に casePost を追加したページでよい
4. **割り当て** で、このテスト用レコードページを **「ケース Post テスト」アプリだけ** に割り当てる  
   - 他アプリは従来のケースページのまま
5. テスト時は **アプリランチャー** から「ケース Post テスト」を選び、ケースを開いて casePost を確認する

**メリット**  
- 通常利用者はいつも通りのアプリ・ページのまま  
- 「このアプリで開いたときだけ casePost 付き」と切り替えが明確  

---

## 方法3: 編集画面で「別名で保存」して一時的にテスト用ページを作る

**概要**  
既存のケースレコードページを **編集** し、Case Post を追加した状態を **「別名で保存」** してテスト用ページとして保存します。元のページは編集内容を保存しなければ変更されません。

**手順**

1. **設定** → **オブジェクトマネージャ** → **ケース** → **ライトニングレコードページ**  
   - 既存のケースレコードページを選択 → **編集**
2. 左のコンポーネントから **Case Post** をドラッグして配置
3. **保存** の代わりに **「別名で保存」**（Save As）で保存  
   - 名前例: `Case - Post 一時テスト`
4. この「Post 一時テスト」用ページの **割り当て** を、テスト用アプリやプロファイルにだけ設定（方法1・2と同様）
5. テスト後、不要になったら「Case - Post 一時テスト」ページを非アクティブ化または削除する  
   - 元のページは一度も保存していないのでそのまま

**注意**  
- 「保存」ではなく「別名で保存」にしないと、元のページが上書きされます。  
- テスト用と分かる名前をつけておくと安全です。

**メリット**  
- 既存ページを複製する手順が簡単  
- 短期間の検証や「一度だけ試したい」場合に向く  

---

## 比較まとめ

| 方法 | 既存ページへの影響 | おすすめ用途 |
|------|-------------------|--------------|
| **1. テスト用ページ＋割り当て限定** | なし | 本番に近い形で継続的にテストしたいとき |
| **2. テスト用アプリ＋別ページ割り当て** | なし | アプリ単位で切り替えてテストしたいとき |
| **3. 別名で保存で一時ページ** | なし（別名で保存した場合） | さっと1回試したいとき |

どの方法でも、**既存のケースレコードページの割り当てを変更しなければ、公正（現状の構成）は保ったまま** Sandbox 内だけで casePost をテストできます。
